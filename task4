from typing import Iterable

def all_close(xs: Iterable[float], tol: float = 1e-6) -> bool:
    xs = list(xs)
    if not xs:
        return True
    first = xs[0]
    return all(abs(x - first) <= tol for x in xs)


print(all_close([1.0, 1.0000005, 0.9999999], tol=1e-5))
print(all_close([1.0, 1.1], tol=1e-3))
